<app-header></app-header>
<div class="container-fluid">
  <div class="well well-sm custom-well-small">
    <div class="row ">
        <div [ngClass]="{'col-sm-3':currentUser.accessRole.id !== roleMapping.KENDRA_ROLE, 'col-sm-4': currentUser.accessRole.id === roleMapping.KENDRA_ROLE}">
        <span class="label label-default">Zone</span>
        <select class="selectpicker" [(ngModel)]="selectedZoneId" (change)="zoneChange($event)">
            <option *ngFor="let zone of currentUser.zoneInfoList; let i = index" value={{zone.id}}>
              {{zone.name}}
            </option>
          </select>
      </div>
      <div [ngClass]="{'col-sm-3':currentUser.accessRole.id !== roleMapping.KENDRA_ROLE, 'col-sm-4': currentUser.accessRole.id === roleMapping.KENDRA_ROLE}">
          <span class="label label-default">Kendra</span>
        <select class="selectpicker" [(ngModel)]="selectedKendraId" (change)="kendraChange($event)">          
            Kendra:<option *ngFor="let kendraInfo of getKendraInfoList(); let i = index" value={{kendraInfo.id}}>
            {{kendraInfo.name}}
          </option>
        </select>
      </div>
      <div [ngClass]="{'col-sm-3':currentUser.accessRole.id !== roleMapping.KENDRA_ROLE, 'col-sm-4': currentUser.accessRole.id === roleMapping.KENDRA_ROLE}">
        <button class="btn btn-primary" (click)="getInventory()">Show Inventory</button>
      </div>
      <div class="col-sm-3" *ngIf="currentUser.accessRole.id !== roleMapping.KENDRA_ROLE">
        <button class="btn btn-primary" (click)="getUsersInfo()">Users</button>
      </div>
    </div>
  </div>

  <div [hidden]="!inventoryService.isInventoryDataAvailable">
    <div class="table-responsive table-condensed">
    <table class="table table-striped table-bordered" >
      <thead>
        <tr>
          <th></th>
          <th></th>
          <th>Equipment-Name</th>
          <th>Serial-Model-#</th>
          <th>inUse</th>
          <th>Purchased on</th>
          <th>Owned By</th>
          <th>Used since</th>
          <th>Stored at</th>
          <th>Kendar</th>
          <th>Comment</th>
          <th>contact1 Name</th>
          <th>contact1 phone#</th>
          <th>contact1 Email</th>
          <th>contact2 Name</th>
          <th>contact2 phone#</th>
          <th>contact2 Email</th>
          <th>Last Updated on</th>
        </tr>
        
      </thead>
      <tbody>
        <tr *ngFor="let equipmentInfo of inventoryService.getInventoryInfo(); let i=index">
            <!--(click)="deleteEquipment(equipmentInfo.inventory.id)"-->
          <td><button type="button" class="btn btn-link" data-toggle="tooltip" title="Delete" (click)="deleteEquipment(equipmentInfo.inventory.id)"><span class="glyphicon glyphicon-remove"></span> </button></td> 
          <td><button type="button" class="btn btn-link" data-toggle="tooltip" title="Edit" (click)="updateEquipment(equipmentInfo.inventory.id)"><span class="glyphicon glyphicon-pencil"></span> </button></td>          
          <td>{{getEquipmentTypeName(equipmentInfo.inventory.name)}}</td>
          <td>{{equipmentInfo.inventory.serialModelNumber}}</td>
          <td>{{equipmentInfo.inventory.inUse}}</td>
          <td>{{equipmentInfo.inventory.purchasedOn| date: 'MM/dd/yyyy'}}</td>
          <td>{{equipmentInfo.inventory.ownedBy}}</td>
          <td>{{equipmentInfo.inventory.usedSince}}</td>
          <td>{{equipmentInfo.inventory.storedAt}}</td>
          <td>{{equipmentInfo.kendraInfo.name}}</td>
          <td>{{equipmentInfo.inventory.comment}}</td>
          <td>{{equipmentInfo.inventory.contact1_name}}</td>
          <td>{{equipmentInfo.inventory.contact1_phone}}</td>
          <td>{{equipmentInfo.inventory.contact1_email}}</td>
          <td>{{equipmentInfo.inventory.contact2_name}}</td>
          <td>{{equipmentInfo.inventory.contact2_phone}}</td>
          <td>{{equipmentInfo.inventory.contact2_email}}</td>      
          <td>{{equipmentInfo.inventory.lastUpdatedOn| date:'MM/dd/yyyy'}}</td>    
        </tr>
        <tr>
            <td><button type="button" class="btn btn-link" data-toggle="tooltip" title="Add" (click)="addEquipment()"><span class="glyphicon glyphicon-plus"></span> </button></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
        </tr>
      </tbody>
    </table>
  </div>
  </div>  
</div>
